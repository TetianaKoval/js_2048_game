{"version":3,"sources":["scripts/main.js"],"names":["cells","document","querySelectorAll","table","querySelector","start","messegeStart","messegeLose","messegeWin","score","scoreInGame","createNumber","emptyCells","filter","cell","innerText","random","minNumber","maxNumber","min","Math","ceil","max","floor","randomCellIndex","number","length","randomNumber","setAttribute","setTimeout","removeAttribute","addClass","cellsArr","map","className","classList","add","tbodyHorisontal","tbodyVertical","createElement","turnTheTable","tableBody","type","innerHTML","i","cellsInColumn","cellIndex","newLine","join","append","children","rowsRewriteToLeft","rows","cellsInCollumn","forEach","parentElement","j","rowsRewriteToRight","cellsInRow","prepend","keydownListener","e","push","key","contains","remove","newCellArr","victory","loss","valuesInCells","find","removeEventListener","horisontalNembers","verticalNumbers","allCells","rowIndex","possibleNextStep","row","addEventListener"],"mappings":"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","file":"main.9ea2d30a.js","sourceRoot":"..\\src","sourcesContent":["'use strict';\n\nconst cells = document.querySelectorAll('.field-cell');\nconst table = document.querySelector('.game-field');\nconst start = document.querySelector('.start');\nconst messegeStart = document.querySelector('.message-start');\nconst messegeLose = document.querySelector('.message-lose');\nconst messegeWin = document.querySelector('.message-win');\nlet score = 0;\nconst scoreInGame = document.querySelector('.game-score');\n\nfunction createNumber() {\n  const emptyCells\n    = [...document.querySelectorAll('.field-cell')]\n      .filter(cell => !cell.innerText);\n\n  function random(minNumber, maxNumber) {\n    const min = Math.ceil(minNumber);\n    const max = Math.floor(maxNumber);\n\n    return Math.floor(Math.random()\n      * (max - min + 1)) + min; // Максимум и минимум включаются\n  };\n\n  const randomCellIndex = random(0, [...emptyCells].length - 1);\n  let number;\n  const randomNumber = random(0, 100);\n\n  if (randomNumber >= 90) {\n    number = 4;\n  } else {\n    number = 2;\n  };\n\n  function addNumber(cell) {\n    cell.setAttribute('id', 'new-number');\n\n    setTimeout(() => {\n      cell.removeAttribute('id');\n    }, 100);\n\n    cell.innerText = number;\n  };\n  addNumber(emptyCells[randomCellIndex]);\n\n  addClass([...cells]);\n};\n\nfunction addClass(cellsArr) {\n  cellsArr.map(cell => {\n    if (cell.innerText) {\n      cell.className = `field-cell field-cell--${cell.innerText}`;\n    } else {\n      cell.className = ``;\n      cell.classList.add(`field-cell`);\n    }\n  });\n};\n\nconst tbodyHorisontal = document.querySelector('tbody');\nconst tbodyVertical = document.createElement('tbody');\n\ntbodyVertical.classList.add('tbody-columns');\n\n// розворот таблиці\nfunction turnTheTable(tableBody, type) {\n  tableBody.innerHTML = '';\n\n  for (let i = 0; i < document.querySelector('tbody').children.length; i++) {\n    // отримую колонку\n    const cellsInColumn = [...document.querySelectorAll('td')]\n      .filter(cell => cell.cellIndex === i);\n    // створюю таблицю де стовпці це рядки\n    const newLine = document.createElement('tr');\n\n    newLine.classList.add(`field-${type}`);\n\n    newLine.innerHTML = `${cellsInColumn.map(cell => {\n      return `<td class=\"field-cell field-cell-${type}\">${cell.innerText}</td>`;\n    }).join('')}`;\n    tableBody.append(newLine);\n  };\n\n  addClass([...tableBody.querySelectorAll('td')]);\n};\n\nfunction rowsRewriteToLeft() {\n  const rows = document.querySelectorAll('tr');\n\n  for (let i = 0; i < document.querySelector('tr').children.length; i++) {\n    const cellsInCollumn = rows[i].children;\n\n    // переставляю пусті комірки в кінець\n    [...cellsInCollumn].forEach(cell => {\n      if (cell.innerText === '') {\n        cell.parentElement.append(cell);\n      }\n    });\n\n    // додаю однакові числа\n    for (let j = 0; j < cellsInCollumn.length; j++) {\n      if (cellsInCollumn[j]\n          && cellsInCollumn[j + 1]\n          && cellsInCollumn[j].innerText === cellsInCollumn[j + 1].innerText\n          && cellsInCollumn[j].innerText !== '') {\n        cellsInCollumn[j].innerText = cellsInCollumn[j].innerText * 2;\n        score += +cellsInCollumn[j].innerText;\n\n        /// ///////////////////////////////////\n        cellsInCollumn[j].setAttribute('scale', '1');\n\n        setTimeout(() => {\n          cellsInCollumn[j].removeAttribute('scale');\n        }, 200);\n        cellsInCollumn[j + 1].innerText = '';\n        rows[i].append(cellsInCollumn[j + 1]);\n      };\n    };\n  };\n}\n\nfunction rowsRewriteToRight() {\n  const rows = document.querySelectorAll('tr');\n\n  for (let i = 0; i < [...document.querySelectorAll('tr')].length; i++) {\n    const cellsInRow = rows[i].children;\n\n    // переставляю пусті комірки в кінець\n    [...cellsInRow].forEach(cell => {\n      if (cell.innerText === '') {\n        cell.parentElement.prepend(cell);\n      }\n    });\n\n    // додаю однакові числа\n    for (let j = cellsInRow.length - 1; j >= 0; j--) {\n      if (cellsInRow[j]\n          && cellsInRow[j - 1]\n          && cellsInRow[j].innerText === cellsInRow[j - 1].innerText\n          && cellsInRow[j].innerText !== '') {\n        cellsInRow[j].innerText = cellsInRow[j].innerText * 2;\n        score += +cellsInRow[j].innerText;\n\n        /// /////////////////////////////////////////////////////////////\n        cellsInRow[j].setAttribute('scale', '1');\n\n        setTimeout(() => {\n          cellsInRow[j].removeAttribute('scale');\n        }, 200);\n        cellsInRow[j - 1].innerText = '';\n        rows[i].prepend(cellsInRow[j - 1]);\n      };\n    };\n  };\n}\n\nfunction keydownListener(e) {\n  // масив зі значеннями в комірках для того щоб порівняти з масивом в кінці\n  const cellsArr = [];\n\n  [...document.querySelectorAll('td')].forEach(cell => {\n    cellsArr.push(cell.innerText);\n  });\n\n  /// ///////ArrowUp\n  if (e.key === 'ArrowUp') {\n    if (!document.querySelector('tbody').classList.contains('tbody-columns')) {\n      // розворот таблиці\n      turnTheTable(tbodyVertical, 'column');\n      tbodyHorisontal.remove(); // ховаю правильну таблицю\n      table.append(tbodyVertical); // вставляю таблицю з колонками\n    };\n\n    rowsRewriteToLeft();\n  };\n\n  /// ///////ArrowDown\n  if (e.key === 'ArrowDown') {\n    if (!document.querySelector('tbody').classList.contains('tbody-columns')) {\n      // розворот таблиці\n      turnTheTable(tbodyVertical, 'column');\n      tbodyHorisontal.remove(); // ховаю правильну таблицю\n      table.append(tbodyVertical); // вставляю таблицю з колонками\n    };\n\n    rowsRewriteToRight();\n  };\n\n  /// ///////ArrowLeft\n  if (e.key === 'ArrowLeft') {\n    if (document.querySelector('tbody').classList.contains('tbody-columns')) {\n      turnTheTable(tbodyHorisontal, 'row');\n      tbodyVertical.remove(); // ховаю вертикальну таблицю\n      table.append(tbodyHorisontal); // вставляю таблицю з рядками\n    };\n\n    rowsRewriteToLeft();\n  };\n\n  /// ///////ArrowRight\n  if (e.key === 'ArrowRight') {\n    if (document.querySelector('tbody').classList.contains('tbody-columns')) {\n      turnTheTable(tbodyHorisontal, 'row');\n      tbodyVertical.remove(); // ховаю вертикальну таблицю\n      table.append(tbodyHorisontal); // вставляю таблицю з рядками\n    };\n\n    rowsRewriteToRight();\n  };\n\n  // порівнюю попередні значення в комірках з новими\n  // (якщо відрізняються то створюю нове число)\n  const newCellArr = [];\n\n  [...document.querySelectorAll('td')].forEach(cell => {\n    newCellArr.push(cell.innerText);\n  });\n\n  for (let i = 0; i < newCellArr.length; i++) {\n    if (newCellArr[i] !== cellsArr[i]) {\n      createNumber();\n      break;\n    };\n  };\n\n  // Умова для перемоги\n  victory(newCellArr);\n\n  // Умова для програшу\n  loss(newCellArr);\n\n  addClass([...document.querySelectorAll('.field-cell')]);\n  scoreInGame.innerText = score;\n};\n\n// перемога\nfunction victory(valuesInCells) {\n  if (valuesInCells.find(cell => cell === '2048')) {\n    messegeStart.classList.add('hidden');\n    messegeLose.classList.add('hidden');\n    messegeWin.classList.remove('hidden');\n\n    document.removeEventListener('keydown', keydownListener);\n  };\n}\n\n// програш\nfunction loss(valuesInCells) {\n  const emptyCells = valuesInCells.filter(cell => cell === '');\n\n  if (emptyCells.length === 0) {\n    const horisontalNembers = {};\n    const verticalNumbers = {};\n\n    const allCells = document.querySelectorAll('td');\n\n    if (document.querySelector('tbody').classList.contains('tbody-columns')) {\n      for (let i = 0; i < [...allCells].length; i++) {\n        if (!horisontalNembers[allCells[i].cellIndex]) {\n          horisontalNembers[allCells[i].cellIndex] = [];\n        }\n        horisontalNembers[allCells[i].cellIndex].push(allCells[i].innerText);\n\n        if (!verticalNumbers[allCells[i].parentElement.rowIndex]) {\n          verticalNumbers[allCells[i].parentElement.rowIndex] = [];\n        };\n\n        verticalNumbers[allCells[i].parentElement.rowIndex]\n          .push(allCells[i].innerText);\n      };\n    } else {\n      for (let i = 0; i < [...allCells].length; i++) {\n        if (!verticalNumbers[allCells[i].cellIndex]) {\n          verticalNumbers[allCells[i].cellIndex] = [];\n        };\n        verticalNumbers[allCells[i].cellIndex].push(allCells[i].innerText);\n\n        if (!horisontalNembers[allCells[i].parentElement.rowIndex]) {\n          horisontalNembers[allCells[i].parentElement.rowIndex] = [];\n        };\n\n        horisontalNembers[allCells[i].parentElement.rowIndex]\n          .push(allCells[i].innerText);\n      };\n    }\n\n    let possibleNextStep = 0;\n\n    for (const row in horisontalNembers) {\n      for (let i = 1; i < horisontalNembers[row].length - 1; i++) {\n        if (horisontalNembers[row][i] === horisontalNembers[row][i - 1]\n          || horisontalNembers[row][i] === horisontalNembers[row][i + 1]) {\n          possibleNextStep++;\n        }\n      }\n    }\n\n    for (const row in verticalNumbers) {\n      for (let i = 1; i < verticalNumbers[row].length - 1; i++) {\n        if (verticalNumbers[row][i] === verticalNumbers[row][i - 1]\n          || verticalNumbers[row][i] === verticalNumbers[row][i + 1]) {\n          possibleNextStep++;\n        }\n      }\n    };\n\n    if (possibleNextStep === 0) {\n      messegeLose.classList.remove('hidden');\n      messegeStart.classList.add('hidden');\n      messegeWin.classList.add('hidden');\n      document.removeEventListener('keydown', keydownListener);\n    }\n  };\n}\n\n// Кнопка start\nstart.addEventListener('click', (e) => {\n  document.addEventListener('keydown', keydownListener);\n  messegeStart.classList.add('hidden');\n  messegeLose.classList.add('hidden');\n  messegeWin.classList.add('hidden');\n  score = 0;\n  scoreInGame.innerText = 0;\n\n  const allCells = document.querySelectorAll('td');\n\n  if ([...allCells].find(cell => cell.innerText !== '')) {\n    allCells.forEach(cell => {\n      cell.innerText = '';\n      cell.className = 'field-cell';\n    });\n  };\n  createNumber();\n  createNumber();\n  addClass([...document.querySelectorAll('.field-cell')]);\n\n  start.innerText = 'Restart';\n  start.classList.remove('start');\n  start.classList.add('restart');\n});\n"]}